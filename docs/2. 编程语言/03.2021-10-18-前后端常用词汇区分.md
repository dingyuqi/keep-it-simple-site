---\rtitle: 前后端交互笔记\rcreateTime: 2021/10/18 00:00:00\rtags:\r  - 前后端\rpermalink: /article/besxrro7/\r---\r如果你也刚刚开始学习前后端等相关知识, 那么可能你会有许多困惑. 本篇文章将会介绍前后端的关键概念, 并对相似的词汇进行区分. 我相信读完后你会对前后端的交互有一个最基本的概念. \r\r<!-- more -->\r\r## HTML5\r\rhtml语言用于规定网页的内容. 一个页面上有什么内容通过html文件决定.\r\r::: normal-demo \r``` html\r  <form action="http://localhost:5000/result" method="POST">\r     <p>Name <input type = "text" name = "Name" /></p>\r     <p>Physics <input type = "text" name = "Physics" /></p>\r     <p>Chemistry <input type = "text" name = "chemistry" /></p>\r     <p>Maths <input type ="text" name = "Mathematics" /></p>\r     <p><input type = "submit" value = "submit" /></p>\r     <button>丁语琪</button>\r  </form>\r```\r:::\r\r## CSS\r\rCSS 是一种描述 HTML 文档样式的语言. CSS 描述应该如何显示 HTML 元素, 规定网页的布局.\r\r``` html\rbody {\r  background-color: lightblue;\r}\r\rh1 {\r  color: white;\r  text-align: center;\r}\r\rp {\r  font-family: verdana;\r  font-size: 20px;\r}\r```\r\r\r## JS\r\rJavaScript 对网页行为进行编程, 其作用有:\r1. 能够改变 HTML 内容\r2. 能够改变 HTML 属性\r3. 能够改变 CSS 样式\r4. 能够隐藏 HTML 元素\r5. 能够显示隐藏的 HTML 元素\r\r简单的 js 可以包含在html文件中, 放在`<script></script>`之中, 也可以分开来写单独的`.js`文件.\r\r## JQuery\r\rjQuery 是一个 JavaScript 库. jQuery 极大地简化了 JavaScript 编程. \r\r基础语法是: `$(selector).action()`\r1. 美元符号定义 jQuery\r2. 选择符(selector)"查询"和"查找" HTML 元素\r3. jQuery 的 action() 执行对元素的操作\r\r所有 jQuery 函数位于一个 `document ready` 函数中\r\r\r```html\r<script>\r    $(document).ready(function(){\r    --- jQuery functions go here ----\r    });\r</script>\r```\r\r\r这是为了防止文档在完全加载(就绪)之前运行 jQuery 代码. \r\r如果在文档没有完全加载之前就运行函数, 操作可能失败. 下面是两个具体的例子: \r1. 试图隐藏一个不存在的元素\r2. 获得未完全加载的图像的大小\r\r\r## AJAX\rAJAX 是一种在无需重新加载整个网页的情况下, 能够更新部分网页的技术. Ajax用于浏览器与服务器通信而无需刷新整个页面, 服务器将不再返回整个页面, 而是返回少量数据, 通过JavaScript DOM更新一部分节点. 期间数据传输可采用xml, json等格式, Ajax最早用于谷歌的搜索提示. \r\rAJAX = Asynchronous JavaScript and XML(异步的 JavaScript 和 XML). \r\rAJAX 不是新的编程语言, 而是一种使用现有标准的新方法. \r\r1. 需要引入JQuery\r2. 需要一个后端接口接收数据并返回\r\rAJAX分为原生AJAX和JQuery.ajax. 区别在于: \rjquery是一个优秀的js框架, 对js原生的Ajax进行了封装, 在封装后的Ajax的操作更加简洁, 功能更加强大\r\r原生AJAX:\r1. 创建ajax对象    \r2. 连接到服务器     \r3. 发送请求(告诉服务器我要什么文件)     \r4. 接收返回值\r\r```JavaScript\r//创建对象\rvar xmlhttp;\rif (window.XMLHttpRequest)\r  {// code for IE7+, Firefox, Chrome, Opera, Safari\r  xmlhttp=new XMLHttpRequest();\r  }\relse\r  {// code for IE6, IE5\r  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");\r  }\r---------\r//发送请求\rxmlhttp.open("GET","test1.txt",true);\rxmlhttp.send();\r---------\r//服务器响应\rdocument.getElementById("myDiv").innerHTML=xmlhttp.responseText; //获得字符串形式响应, responseXML获得XML形式响应\r\r//onreadystatechange函数\rxmlhttp.onreadystatechange=function()\r  {\r  if (xmlhttp.readyState==4 && xmlhttp.status==200)\r    {\r    document.getElementById("myDiv").innerHTML=xmlhttp.responseText;\r    }\r  }\r  //存有 XMLHttpRequest 的状态. 从 0 到 4 发生变化. \r\r        0: 请求未初始化\r        1: 服务器连接已建立\r        2: 请求已接收\r        3: 请求处理中\r        4: 请求已完成, 且响应已就绪\r```\r\r而JQuery发送AJAX分为5个步骤: \r::: steps\r1. 传输的 url \r\r   也就是所谓的数据往哪个地址拿数据\r\r2. type\r   \r   请求的类型 比如有: post/ put/ get/ delete\r\r3. data \r   \r   要传输给后端的数据, 没有可以不写\r\r4. dataType:'json' \r  \r   如果Php端声明了json返回, 那么js端可以不用写dataType="json";如果Php端没有声明json返回, 那么js端必须写ataType="json"\r\r5. success\r  \r   发送数据之后成功的回调函数\r:::\r\r::: code-tabs\r\r@tab:active html\r\r```html\r<button class="del" value="{$item['id']}">删除</button>\r<button οnclick="login1()">发送1</button>\r<script>\r    $(function(){\r        $('.del').click(function(){\r            var id =$(this).val();\r            $.ajax({\r                'url':"{:url('home/shop/delete')}",//请求地址,后台接口(模块/控制器/方法)\r                'type':'delete',//请求类型\r                'data':'id'+=id,//发送给后端的数据\r                'dataType':'json',\r                'success':function(res){//成功的回调函数, res= {data:"开发者服务器返回的内容"}\r                    alert("删除成功")\r                }\r            })\r        })\r    })\r\r    function login1() {\r        $.ajax({\r            url: "{{ url_for('greet') }}",\r            data: {name: 'jenny'},\r            type: "POST",\r            //dataType: "json",\r            success: function(data) {\r                // data = eval("(" + data+ ")");\r                data = jQuery.parseJSON(data);  // dataType注释了, 故注意反序列化\r                $("#ret").text(data.result);\r            }\r        });\r    }\r</script>\r```\r\r@tab php\r\r```php\r// home/shop.php\rpublic function delete($id)\r{\r    Shops::where(field:'id',$id)->delete();\r    $data=[\r        'code'=>200,\r        'msg'=>'删除成功',\r        'status'=>'success'\r    ];\r    return $data;\r}\r```\r\r@tab python\r```python\r@app.route('/greet', methods=['GET', 'POST'])\rdef greet():\r    # GET上传的数据用request.args获取, POST上传的数据用request.form获取\r    if request.method == 'GET':\r        name = request.args.get('name')\r        ret = {'result': 'hi, %s' % name}\r    else:\r        name = request.form.get('name')\r        ret = {'result': 'hello, %s' % name}\r \r    return json.dumps(ret)\r```\r:::\r\r\r::: tip PHP\rPHP(全称: PHP: Hypertext Preprocessor, 即"PHP: 超文本预处理器")是一种通用开源脚本语言. PHP 脚本在服务器上执行. \r\rPHP 可以收集表单数据;可以发送和接收 cookies;可以添加、删除、修改您的数据库中的数据;\r:::\r\r扩展阅读: [AJAX访问数据库实例](https://www.w3school.com.cn/tiy/t.asp?f=ajax_database)\r\r